/**
 * 경어체(~하십시오, ~마십시오) → 구어체(~하세요, ~해요) 변환
 * API 원본 텍스트를 자연스러운 구어체로 바꿉니다.
 */

const TONE_RULES: [RegExp, string][] = [
  // 금지형
  [/마십시오/g, "마세요"],
  [/마시오/g, "마세요"],
  // 존칭 명령형
  [/하십시오/g, "하세요"],
  [/하시오/g, "하세요"],
  [/드십시오/g, "드세요"],
  [/받으십시오/g, "받으세요"],
  [/두십시오/g, "두세요"],
  [/주십시오/g, "주세요"],
  [/쓰십시오/g, "쓰세요"],
  [/피하십시오/g, "피하세요"],
  [/삼가십시오/g, "삼가세요"],
  // 일반 존칭
  [/됩니다/g, "돼요"],
  [/입니다/g, "이에요"],
  [/습니다/g, "어요"],
  [/합니다/g, "해요"],
  [/됩니까/g, "되나요"],
  [/입니까/g, "인가요"],
  [/습니까/g, "나요"],
  [/합니까/g, "하나요"],
  // 부정형
  [/않습니다/g, "않아요"],
  [/없습니다/g, "없어요"],
  [/있습니다/g, "있어요"],
  // 문장 끝 패턴
  [/바랍니다/g, "바라요"],
  [/드립니다/g, "드려요"],
  [/보십시오/g, "보세요"],
];

export function convertToColloquial(text: string): string {
  let result = text;
  for (const [pattern, replacement] of TONE_RULES) {
    result = result.replace(pattern, replacement);
  }
  return result;
}
